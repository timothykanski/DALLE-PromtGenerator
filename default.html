<!DOCTYPE html>
<link href="https://fonts.googleapis.com/css?family=Cardo:400,700|Oswald" rel="stylesheet">
<style>
  body {
    font-size: 20px;
    font-family: 'Cardo', serif;
    background-color: #484d5c;
    color: rgb(255 206 0);
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Oswald', sans-serif;
    text-transform: uppercase;
  }

</style>
<html>
<body>

  <div>
    <button id="go-button">Go!</button>

    <p id="demo-0"></p>
    <p id="demo-1"></p>
    <p id="demo-2"></p>
    <p id="demo-3"></p>
    <p id="demo-4"></p>
    <p id="demo-5"></p>
    <p id="demo-6"></p>
    <p id="demo-7"></p>
    <p id="demo-8"></p>
    <p id="demo-9"></p>
  </div>

  <script>

    document.getElementById("go-button").onclick = function () {
      go();
    };

    // This gets called once per generation.
    function go() {
      let template = "#content#, #img-type#, #img-mod#";
      for (var i = 0; i < 10; i++) {
        setContent("demo-" + i, capitalizeFirstLetter(resolve(template)));
      }
    }
    // This gets called once for each prompt generated.
    function resolve(template) {
      var ret = template;
      var arr = template.match(/(#[a-z\-]*#)/gi);// arr is an array of all params in the template.
      for (var item in arr) {
        var options = getArrayByParam(arr[item]);
        var input = resolve(getRandoFromArray(options)); // Recursive call to resolve embedded templates.
        // replace the param in the template.
        ret = ret.replace(arr[item], input);
      }
      return ret;
    }
    function setContent(container, result) {
      document.getElementById(container).innerHTML = result;
    }
    function getRandoFromArray(arr) {
      var item = arr[Math.floor(Math.random() * arr.length)];
      return item;
    }
    function capitalizeFirstLetter(string) {
      return string.charAt(0).toUpperCase() + string.slice(1);
    }
    function getArrayByParam(param) {
      //console.log(param);
      switch (param) {
        case "#content#":
          return ["#humanoid# #human-mod# in #setting#", "#holdable# #obj-mod# in #setting#"];
        case "#img-type#":
          return ["Selfie", "Digital Art", "Renaissance painting", "Painting by #painter#", "Cover of #magazine# magazine", "On the television show #show#", "In the movie #movie#"];
        case "#img-mod#":
          return ["Hyperrealistic", "Closeup", "Award winning", "Vintage", "4K HD", "Highly Detailed"];
        case "#food#":
          return ["a bowl of cereal", "hot wings", "a banana"];
        case "#color#":
          return ["red", "orange", "yellow", "green", "blue", "purple", "silver", "black", "brown", "white", "grey", "gold", "teal", "magenta", "indigo"];
        case "#setting#":
          return ["a desert", "a forest", "a beach scene", "the pouring rain", "a space station on Mars"];
        case "#humanoid#":
          return ["a robot", "a gorilla", "#profession#"];
        case "#human-mod#":
          return ["with #color# hair","dressed as #profession#","holding #holdable#","driving #driveable#","eating #food#","riding #rideable#"];
        case "#critter#":
          return ["a mouse", "a bird", "a squirrel"];
        case "#driveable#":
          return ["a school bus", "a car", "a truck", "a motorcycle", "a lawnmower", "a garbage truck", "a snowmobile"];
        case "#rideable#":
          return ["a bicycle", "a horse", "#humanoid#", "#critter#"];
        case "#profession#":
          return ["a doctor", "a scientist", "the pope", "an astronaut", "a medieval knight", "a lawyer"];
        case "#painter#":
          return ["Vincent van Gogh", "Salvador Dali", "Pablo Picasso", "Claud Monet"];
        case "#magazine#":
          return ["National Geographic", "GQ", "Vogue", "Time"];
        case "#show#":
          return ["Sesame Street", "Southpark", "Seinfeld", "The Office", "The 6 o'clock news", "The X-Files"];
        case "#movie#":
          return ["The Wizard of Oz", "Star Wars", "Indiana Jones", "The Lord of the Rings"];
        case "#holdable#":
          return ["a flower", "#food#", "a fork", "a knife", "a pencil", "a boombox", "a wedding ring"];
        case "#obj-mod#":
          return ["covered in dust", "sitting on top of #holdable#", "melting", "standing upright", "giving off light"];
      }
    }

  </script>

</body>
</html>
